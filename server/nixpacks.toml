# Nixpacks configuration for Railway
# Tüm paketler nixPkgs ile kuruluyor - çakışmayı önlemek için providers kullanmıyoruz

providers = []

[phases.setup]
# Node.js 20, Python, pip ve FFmpeg nixPkgs ile kuruluyor
nixPkgs = ["pkgs.nodejs_20", "pkgs.python3", "pkgs.python3Packages.pip", "pkgs.ffmpeg"]

[phases.install]
cmds = [
  "npm ci --omit=dev",
  "python3 -m pip install --user yt-dlp"
]

[phases.build]
cmds = []

[start]
cmd = "npm start"
